# DevSecOps Tools - –ê—Ä—Ç–µ—Ñ–∞–∫—Ç —Å–µ—Å—Å–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–î–∞—Ç–∞**: 19-20 –æ–∫—Ç—è–±—Ä—è 2025
**–ü—Ä–æ–µ–∫—Ç**: DevSecOps Tools - SBOM to VEX Converter & Vulnerability Comments Migration
**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫**: Sergey Bakunin (deone37)

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞](#–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
3. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
4. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ](#—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ)
5. [CI/CD Pipeline](#cicd-pipeline)
6. [–í–∞–∂–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](#–≤–∞–∂–Ω—ã–µ-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
7. [–†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã](#—Ä–µ—à–µ–Ω–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã)
8. [–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è](#–∫–æ–º–∞–Ω–¥—ã-–¥–ª—è-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
9. [–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏](#—Å–ª–µ–¥—É—é—â–∏–µ-—à–∞–≥–∏)

---

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**DevSecOps Tools** - –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —É—è–∑–≤–∏–º–æ—Å—Ç—è–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ CycloneDX.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

1. **VEX Converter** - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è SBOM (CycloneDX v1.6) –≤ VEX —Ñ–æ—Ä–º–∞—Ç
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
   - –î–æ–±–∞–≤–ª—è–µ—Ç —Å–µ–∫—Ü–∏—é analysis
   - –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON —Ñ–æ—Ä–º–∞—Ç

2. **SBOM Migrate** - –ø–µ—Ä–µ–Ω–æ—Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –º–µ–∂–¥—É —ç–∫—Å–ø–æ—Ä—Ç–∞–º–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CSV/XLSX –∏ JSON —Ñ–æ—Ä–º–∞—Ç–æ–≤
   - –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ CVE ID
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:

**Backend:**
- Python 3.13
- FastAPI (async web framework)
- Uvicorn (ASGI server)
- openpyxl, pandas (–æ–±—Ä–∞–±–æ—Ç–∫–∞ XLSX/CSV)

**Frontend:**
- React 18.2
- Axios (HTTP client)
- CSS modules
- Nginx (production server)

**DevOps:**
- Docker / Docker Compose
- GitHub Actions (CI/CD)
- Synology Container Manager

---

## –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### Synology NAS DS723+

**–ú–æ–¥–µ–ª—å**: Synology DS723+
**CPU**: AMD Ryzen R1600 (2 cores, 4 threads)
**RAM**: –º–∏–Ω–∏–º—É–º 2GB

**–°–µ—Ç–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| –í–Ω–µ—à–Ω–∏–π –¥–æ–º–µ–Ω | dso.deone37.synology.me |
| –í–Ω–µ—à–Ω–∏–π IP | 31.207.64.66 |
| –õ–æ–∫–∞–ª—å–Ω—ã–π IP (eth0) | 192.168.0.233/24 |
| –õ–æ–∫–∞–ª—å–Ω—ã–π IP (eth1) | 192.168.0.234/24 |

**–ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ:**
- –ü–æ—Ä—Ç 80 (HTTP) ‚Üí 192.168.0.233:80
- –ü–æ—Ä—Ç 443 (HTTPS) ‚Üí 192.168.0.233:443

**Reverse Proxy (Synology):**
- –ò—Å—Ç–æ—á–Ω–∏–∫: `https://dso.deone37.synology.me:443`
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: `http://localhost:3000` (frontend)
- HSTS: –≤–∫–ª—é—á–µ–Ω

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –Ω–∞ NAS

```
/volume1/docker/devsecops/
‚îú‚îÄ‚îÄ project/
‚îÇ   ‚îú‚îÄ‚îÄ .env                           # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.nas.yml         # Compose –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ docker-compose.dockerhub.yml   # Compose –¥–ª—è Docker Hub –æ–±—Ä–∞–∑–æ–≤
‚îú‚îÄ‚îÄ backend-data/                      # –î–∞–Ω–Ω—ã–µ backend (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ backend-logs/                      # –õ–æ–≥–∏ backend (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îî‚îÄ‚îÄ nas-deployment/
    ‚îú‚îÄ‚îÄ devsecops-backend-1.0.0.tar   # –≠–∫—Å–ø–æ—Ä—Ç backend –æ–±—Ä–∞–∑–∞
    ‚îú‚îÄ‚îÄ devsecops-frontend-1.0.0.tar  # –≠–∫—Å–ø–æ—Ä—Ç frontend –æ–±—Ä–∞–∑–∞
    ‚îú‚îÄ‚îÄ docker-compose.nas-simple.yml # –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π compose
    ‚îú‚îÄ‚îÄ update-from-dockerhub.sh      # –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ HOTFIX.md                      # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
    ‚îî‚îÄ‚îÄ README.md                      # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
```

### Docker Hub

**Username**: `deone37`

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:**
- `deone37/devsecops-backend:latest`
- `deone37/devsecops-backend:1.0.0`
- `deone37/devsecops-frontend:latest`
- `deone37/devsecops-frontend:1.0.0`

### GitHub

**Username**: `SergeyBakunin`
**Repository**: `devsecops-tools` (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å)

**GitHub Secrets (–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å):**
- `DOCKERHUB_USERNAME`: `deone37`
- `DOCKERHUB_TOKEN`: (—Å–æ–∑–¥–∞—Ç—å –Ω–∞ hub.docker.com/settings/security)

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Synology Reverse Proxy              ‚îÇ
‚îÇ  https://dso.deone37.synology.me:443        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Frontend Container (Nginx)          ‚îÇ
‚îÇ              Port: 3000 ‚Üí 80                ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ     React Application               ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - SBOM Migrate Component           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - VEX Converter Component          ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  Nginx Config:                              ‚îÇ
‚îÇ  - / ‚Üí React app                            ‚îÇ
‚îÇ  - /api ‚Üí proxy to backend:8000             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Backend Container (FastAPI)         ‚îÇ
‚îÇ              Port: 8090 ‚Üí 8000              ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  API Endpoints:                             ‚îÇ
‚îÇ  - GET  /                  (health check)   ‚îÇ
‚îÇ  - GET  /docs              (Swagger UI)     ‚îÇ
‚îÇ  - POST /api/migrate       (CSV/XLSX)       ‚îÇ
‚îÇ  - POST /api/migrate-json  (JSON)           ‚îÇ
‚îÇ  - POST /api/sbom-to-vex   (analysis)       ‚îÇ
‚îÇ  - POST /api/sbom-to-vex/export (download)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Docker Network

**–°–µ—Ç—å**: `devsecops-network` (bridge)
**Subnet**: 172.25.0.0/16

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ–±—â–∞—é—Ç—Å—è –º–µ–∂–¥—É —Å–æ–±–æ–π –ø–æ –∏–º–µ–Ω–∞–º:
- Frontend –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ backend –∫–∞–∫ `http://backend:8000`

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

**Backend:**
- Memory Limit: 512M
- Memory Reservation: 256M
- CPU Limits: –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è (–Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Synology kernel)

**Frontend:**
- Memory Limit: 256M
- Memory Reservation: 128M
- CPU Limits: –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

---

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (Windows)

```bash
# Backend
cd backend
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
uvicorn app.main:app --reload --port 8000

# Frontend
cd frontend
npm install
npm start  # –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ http://localhost:3000
```

### Docker Compose (–ª–æ–∫–∞–ª—å–Ω–æ)

```bash
docker-compose up -d
```

**–î–æ—Å—Ç—É–ø:**
- Frontend: http://localhost:3000
- Backend API: http://localhost:8000
- API Docs: http://localhost:8000/docs

### –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ NAS

**–®–∞–≥ 1: –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤ (–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –ü–ö)**

```bash
cd "C:\Users\Sergey Bakunin\sbom-tools"

# –°–±–æ—Ä–∫–∞
docker build -t devsecops-tools-backend:1.0.0 ./backend
docker build -t devsecops-tools-frontend:1.0.0 ./frontend

# –≠–∫—Å–ø–æ—Ä—Ç
docker save devsecops-tools-backend:1.0.0 -o devsecops-backend-1.0.0.tar
docker save devsecops-tools-frontend:1.0.0 -o devsecops-frontend-1.0.0.tar
```

**–®–∞–≥ 2: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ NAS**

–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å tar —Ñ–∞–π–ª—ã –≤ `/volume1/docker/devsecops/nas-deployment/`

**–®–∞–≥ 3: –ò–º–ø–æ—Ä—Ç –Ω–∞ NAS**

```bash
ssh admin@dso.deone37.synology.me

cd /volume1/docker/devsecops/nas-deployment

sudo docker load -i devsecops-backend-1.0.0.tar
sudo docker load -i devsecops-frontend-1.0.0.tar

# –ü—Ä–æ–≤–µ—Ä–∫–∞
sudo docker images | grep devsecops
```

**–®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

```bash
cd /volume1/docker/devsecops/project

# –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
nano .env
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ `.env`:
```env
# –î–æ–º–µ–Ω –∏ IP
NAS_DOMAIN=dso.deone37.synology.me
NAS_IP=192.168.0.233

# Timezone
TZ=Europe/Moscow

# –ü–æ—Ä—Ç—ã
BACKEND_PORT=8090
FRONTEND_PORT=3000

# API URL
API_URL=https://dso.deone37.synology.me

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL=info

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
BACKEND_MEMORY_LIMIT=512M
FRONTEND_MEMORY_LIMIT=256M
```

**–®–∞–≥ 5: –ó–∞–ø—É—Å–∫**

```bash
cd /volume1/docker/devsecops/project

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
sudo docker-compose -f docker-compose.nas.yml down

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
sudo docker-compose -f docker-compose.nas.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞
sudo docker ps
sudo docker logs devsecops-backend
sudo docker logs devsecops-frontend
```

**–®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Reverse Proxy**

Synology ‚Üí –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å ‚Üí –ü–æ—Ä—Ç–∞–ª –≤—Ö–æ–¥–∞ ‚Üí Advanced ‚Üí Reverse Proxy

–°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ:
- **–û–ø–∏—Å–∞–Ω–∏–µ**: `DSO Tools`
- **–ò—Å—Ç–æ—á–Ω–∏–∫**:
  - –ü—Ä–æ—Ç–æ–∫–æ–ª: HTTPS
  - –ò–º—è —Ö–æ—Å—Ç–∞: `dso.deone37.synology.me`
  - –ü–æ—Ä—Ç: 443
  - HSTS: –≤–∫–ª—é—á–∏—Ç—å
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**:
  - –ü—Ä–æ—Ç–æ–∫–æ–ª: HTTP
  - –ò–º—è —Ö–æ—Å—Ç–∞: `localhost`
  - –ü–æ—Ä—Ç: 3000

**–®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞**

–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ: https://dso.deone37.synology.me/

---

## CI/CD Pipeline

### GitHub Actions Workflow

–§–∞–π–ª: `.github/workflows/docker-publish.yml`

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- Push –≤ `main` / `master` ‚Üí —Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—à–∏—Ç—å `latest`
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–≥–∞ `v*.*.*` ‚Üí –≤–µ—Ä—Å–∏–æ–Ω–Ω—ã–π —Ä–µ–ª–∏–∑
- Pull Request ‚Üí —Ç–æ–ª—å–∫–æ —Å–±–æ—Ä–∫–∞ (–±–µ–∑ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏)
- –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (workflow_dispatch)

**–®–∞–≥–∏:**
1. Checkout –∫–æ–¥–∞
2. Setup Docker Buildx
3. Login –≤ Docker Hub
4. Build Backend ‚Üí Push –≤ `deone37/devsecops-backend`
5. Build Frontend ‚Üí Push –≤ `deone37/devsecops-frontend`

**–¢–µ–≥–∏ –ø—Ä–∏ —Ä–µ–ª–∏–∑–µ v1.0.1:**
- `1.0.1`
- `1.0`
- `1`
- `latest`

### –ü–µ—Ä–≤–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Docker Hub (–≤—Ä—É—á–Ω—É—é)

–ó–∞–ø—É—Å—Ç–∏—Ç—å: `push-to-dockerhub.bat`

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
docker login

docker tag devsecops-tools-backend:1.0.0 deone37/devsecops-backend:1.0.0
docker tag devsecops-tools-backend:1.0.0 deone37/devsecops-backend:latest
docker tag devsecops-tools-frontend:1.0.0 deone37/devsecops-frontend:1.0.0
docker tag devsecops-tools-frontend:1.0.0 deone37/devsecops-frontend:latest

docker push deone37/devsecops-backend:1.0.0
docker push deone37/devsecops-backend:latest
docker push deone37/devsecops-frontend:1.0.0
docker push deone37/devsecops-frontend:latest
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞

```bash
cd "C:\Users\Sergey Bakunin\sbom-tools"

# –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "Feature: –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è"
git push

# –°–æ–∑–¥–∞—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–Ω—ã–π —Ç–µ–≥
git tag -a v1.0.1 -m "Release v1.0.1"
git push origin v1.0.1
```

GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä–µ—Ç –∏ –æ–ø—É–±–ª–∏–∫—É–µ—Ç –æ–±—Ä–∞–∑—ã.

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ NAS

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ Synology UI**
1. Container Manager ‚Üí –û–±—Ä–∞–∑
2. –ù–∞–∂–∞—Ç—å "–û–±–Ω–æ–≤–∏—Ç—å" ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç Docker Hub
3. –°–∫–∞—á–∞–µ—Ç –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏
4. –ü—Ä–æ–µ–∫—Ç ‚Üí devsecops ‚Üí –î–µ–π—Å—Ç–≤–∏–µ ‚Üí –°–±–æ—Ä–∫–∞

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç**

```bash
cd /volume1/docker/devsecops/nas-deployment
sudo ./update-from-dockerhub.sh
```

**–í–∞—Ä–∏–∞–Ω—Ç 3: –í—Ä—É—á–Ω—É—é**

```bash
cd /volume1/docker/devsecops/project

# –°–∫–∞—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
sudo docker-compose -f docker-compose.dockerhub.yml pull

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
sudo docker-compose -f docker-compose.dockerhub.yml up -d --force-recreate
```

---

## –í–∞–∂–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### backend/Dockerfile

```dockerfile
FROM python:3.13-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir --upgrade pip && \
    pip install --no-cache-dir -r requirements.txt
COPY app ./app
RUN useradd -m -u 1000 appuser && \
    chown -R appuser:appuser /app
USER appuser
EXPOSE 8000
CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

### frontend/Dockerfile

```dockerfile
# Stage 1: Build
FROM node:22-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY public ./public
COPY src ./src
RUN npm run build

# Stage 2: Production
FROM nginx:alpine
COPY --from=builder /app/build /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

### frontend/nginx.conf

```nginx
server {
    listen 80;
    server_name localhost;
    root /usr/share/nginx/html;
    index index.html;

    # React Router
    location / {
        try_files $uri $uri/ /index.html;
    }

    # API proxy to backend
    location /api {
        proxy_pass http://backend:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

### docker-compose.dockerhub.yml

```yaml
version: '3.8'

services:
  backend:
    image: deone37/devsecops-backend:latest
    container_name: devsecops-backend
    ports:
      - "8090:8000"
    environment:
      - PYTHONUNBUFFERED=1
      - LOG_LEVEL=info
      - TZ=Europe/Moscow
    networks:
      - devsecops-network
    restart: unless-stopped
    mem_limit: 512M
    mem_reservation: 256M
    healthcheck:
      test: ["CMD", "python", "-c", "import urllib.request; urllib.request.urlopen('http://localhost:8000/')"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s

  frontend:
    image: deone37/devsecops-frontend:latest
    container_name: devsecops-frontend
    ports:
      - "3000:80"
    environment:
      - REACT_APP_API_URL=https://dso.deone37.synology.me
      - TZ=Europe/Moscow
    depends_on:
      - backend
    networks:
      - devsecops-network
    restart: unless-stopped
    mem_limit: 256M
    mem_reservation: 128M
    healthcheck:
      test: ["CMD", "wget", "--quiet", "--tries=1", "--spider", "http://localhost/"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 5s

networks:
  devsecops-network:
    driver: bridge
```

---

## –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: NanoCPUs error –Ω–∞ Synology

**–û—à–∏–±–∫–∞:**
```
Error response from daemon: NanoCPUs can not be set, as your kernel does not support CPU CFS scheduler
```

**–ü—Ä–∏—á–∏–Ω–∞:**
Synology kernel –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç CPU CFS scheduler –¥–ª—è `deploy.resources.limits.cpus`.

**–†–µ—à–µ–Ω–∏–µ:**
–£–±—Ä–∞–ª–∏ `cpus:` –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –æ—Å—Ç–∞–≤–∏–ª–∏ —Ç–æ–ª—å–∫–æ `mem_limit` –∏ `mem_reservation`.

**–ë—ã–ª–æ:**
```yaml
deploy:
  resources:
    limits:
      cpus: '1.0'
      memory: 512M
```

**–°—Ç–∞–ª–æ:**
```yaml
mem_limit: 512M
mem_reservation: 256M
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: ERR_CONNECTION_RESET –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ —Å–∞–π—Ç—É

**–ü—Ä–∏—á–∏–Ω–∞:**
–ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ 80 –∏ 443 –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ. DNS —Ä–µ–∑–æ–ª–≤–∏–ª –¥–æ–º–µ–Ω –Ω–∞ –≤–Ω–µ—à–Ω–∏–π IP, –Ω–æ —Ä–æ—É—Ç–µ—Ä –Ω–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–ª —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ NAS.

**–†–µ—à–µ–Ω–∏–µ:**
–ù–∞—Å—Ç—Ä–æ–∏–ª–∏ Port Forwarding –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ:
- –ü–æ—Ä—Ç 80 ‚Üí 192.168.0.233:80
- –ü–æ—Ä—Ç 443 ‚Üí 192.168.0.233:443

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Port 3000 already allocated

**–ü—Ä–∏—á–∏–Ω–∞:**
–ü–æ—Ä—Ç 3000 —É–∂–µ –∑–∞–Ω—è—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º Gitea.

**–†–µ—à–µ–Ω–∏–µ:**
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–∏–ª Gitea, –æ—Å–≤–æ–±–æ–¥–∏–≤ –ø–æ—Ä—Ç 3000. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ - –∏–∑–º–µ–Ω–∏—Ç—å `FRONTEND_PORT` –≤ `.env`.

### –ü—Ä–æ–±–ª–µ–º–∞ 4: invalid tag format –ø—Ä–∏ push –≤ Docker Hub

**–ü—Ä–∏—á–∏–Ω–∞:**
–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–≥–∞. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å `username/repository:tag`.

**–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:
```bash
docker tag devsecops-tools-backend:1.0.0 deone37/devsecops-backend:1.0.0
```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: npm ci failure –≤ frontend Dockerfile

**–û—à–∏–±–∫–∞:**
```
npm ci can only install packages when your package.json and package-lock.json are in sync
Invalid: lock file's typescript@5.9.3 does not satisfy typescript@4.9.5
```

**–†–µ—à–µ–Ω–∏–µ:**
–ó–∞–º–µ–Ω–∏–ª–∏ `npm ci --only=production` –Ω–∞ `npm install` –≤ Dockerfile.

### –ü—Ä–æ–±–ª–µ–º–∞ 6: react-scripts not found

**–ü—Ä–∏—á–∏–Ω–∞:**
`--omit=dev` –∏—Å–∫–ª—é—á–∞–ª dev dependencies, –∞ `react-scripts` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ devDependencies.

**–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `npm install` –±–µ–∑ —Ñ–ª–∞–≥–æ–≤ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–æ–Ω–∏ –Ω—É–∂–Ω—ã –¥–ª—è —Å–±–æ—Ä–∫–∏).

---

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# Backend
cd backend
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
uvicorn app.main:app --reload

# Frontend
cd frontend
npm install
npm start
```

### Docker (–ª–æ–∫–∞–ª—å–Ω–æ)

```bash
# –°–±–æ—Ä–∫–∞
docker build -t devsecops-tools-backend:1.0.0 ./backend
docker build -t devsecops-tools-frontend:1.0.0 ./frontend

# –ó–∞–ø—É—Å–∫
docker-compose up -d

# –õ–æ–≥–∏
docker-compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose up -d --build
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ NAS

```bash
# SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
ssh admin@dso.deone37.synology.me

# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø—Ä–æ–µ–∫—Ç
cd /volume1/docker/devsecops/project

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
sudo docker ps
sudo docker ps -a

# –õ–æ–≥–∏
sudo docker logs devsecops-backend
sudo docker logs devsecops-frontend
sudo docker logs -f devsecops-backend  # follow mode

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo docker-compose -f docker-compose.dockerhub.yml down

# –ó–∞–ø—É—Å–∫
sudo docker-compose -f docker-compose.dockerhub.yml up -d

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
sudo docker restart devsecops-backend

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤
sudo docker-compose -f docker-compose.dockerhub.yml pull
sudo docker-compose -f docker-compose.dockerhub.yml up -d --force-recreate

# –ü—Ä–æ–≤–µ—Ä–∫–∞ health
sudo docker inspect devsecops-backend | grep -A 20 Health
sudo docker inspect devsecops-frontend | grep -A 20 Health

# –í—Ö–æ–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
sudo docker exec -it devsecops-backend sh
sudo docker exec -it devsecops-frontend sh

# –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—Ä–∞–∑–æ–≤
sudo docker system prune -a

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
sudo docker stats
```

### Git –æ–ø–µ—Ä–∞—Ü–∏–∏

```bash
cd "C:\Users\Sergey Bakunin\sbom-tools"

# –°—Ç–∞—Ç—É—Å
git status

# –ö–æ–º–º–∏—Ç
git add .
git commit -m "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"

# Push
git push

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–≥–∞
git tag -a v1.0.1 -m "Release v1.0.1"
git push origin v1.0.1

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–≥–æ–≤
git tag -l

# –£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ–≥–∞ (–ª–æ–∫–∞–ª—å–Ω–æ –∏ —É–¥–∞–ª–µ–Ω–Ω–æ)
git tag -d v1.0.1
git push origin :refs/tags/v1.0.1
```

### Docker Hub

```bash
# Login
docker login

# Push –æ–±—Ä–∞–∑–æ–≤
docker push deone37/devsecops-backend:1.0.0
docker push deone37/devsecops-backend:latest

# Pull –æ–±—Ä–∞–∑–æ–≤
docker pull deone37/devsecops-backend:latest

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–∫–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤
docker images | grep devsecops

# –£–¥–∞–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞
docker rmi deone37/devsecops-backend:1.0.0
```

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

- [ ] –°–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `devsecops-tools` –Ω–∞ GitHub
- [ ] –î–æ–±–∞–≤–∏—Ç—å remote –∏ –∑–∞–ø—É—à–∏—Ç—å –∫–æ–¥
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub secrets (DOCKERHUB_USERNAME, DOCKERHUB_TOKEN)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É GitHub Actions

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**: [GITHUB_SETUP.md](GITHUB_SETUP.md)

### 2. –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Docker Hub

- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å `push-to-dockerhub.bat`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–∑—ã –Ω–∞ hub.docker.com/r/deone37
- [ ] –û–±–Ω–æ–≤–∏—Ç—å NAS –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Docker Hub –æ–±—Ä–∞–∑–æ–≤

### 3. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π Git/Registry:

- [ ] –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å CI/CD –ø–æ–¥ Gitea/GitLab
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Docker Registry –Ω–∞ NAS
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–∑—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ registry
- [ ] –°–æ–∑–¥–∞—Ç—å webhook –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 4. –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**Backend:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (JWT)
- [ ] –î–æ–±–∞–≤–∏—Ç—å rate limiting
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS –¥–ª—è production
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ (Prometheus)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å structured logging

**Frontend:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- [ ] –£–ª—É—á—à–∏—Ç—å UX (loading states, notifications)
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–º–Ω—É—é —Ç–µ–º—É
- [ ] –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã (Jest, React Testing Library)

**DevOps:**
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Grafana + Prometheus)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å alerting
- [ ] –î–æ–±–∞–≤–∏—Ç—å smoke tests –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å log aggregation (ELK stack)

### 5. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ ] –°–æ–∑–¥–∞—Ç—å README.md —Å quick start
- [ ] –î–æ–±–∞–≤–∏—Ç—å API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é)
- [ ] –°–æ–∑–¥–∞—Ç—å user guide —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã
- [ ] –ó–∞–ø–∏—Å–∞—Ç—å demo –≤–∏–¥–µ–æ

### 6. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [ ] –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤ –Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ (Trivy)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS –¥–ª—è –≤—Å–µ—Ö endpoints
- [ ] –î–æ–±–∞–≤–∏—Ç—å Content Security Policy
- [ ] –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [ ] Secrets management (–Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å –≤ .env)

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

- [README.md](README.md) - –≥–ª–∞–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [GITHUB_SETUP.md](GITHUB_SETUP.md) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub –∏ CI/CD
- [SETUP_CICD.md](SETUP_CICD.md) - –¥–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD
- [nas-deployment/README.md](nas-deployment/README.md) - —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ NAS
- [nas-deployment/HOTFIX.md](nas-deployment/HOTFIX.md) - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ troubleshooting

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- **Production**: https://dso.deone37.synology.me/
- **API Docs**: https://dso.deone37.synology.me/docs
- **Docker Hub Backend**: https://hub.docker.com/r/deone37/devsecops-backend
- **Docker Hub Frontend**: https://hub.docker.com/r/deone37/devsecops-frontend
- **GitHub** (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è): https://github.com/SergeyBakunin/devsecops-tools

### Synology

- **NAS Dashboard**: https://dso.deone37.synology.me:5001
- **Container Manager**: https://dso.deone37.synology.me:5001/#/Docker
- **SSH**: `ssh admin@dso.deone37.synology.me`

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –í–µ—Ä—Å–∏–∏

- **Backend Docker Image**: `deone37/devsecops-backend:1.0.0`
- **Frontend Docker Image**: `deone37/devsecops-frontend:1.0.0`
- **Python**: 3.13
- **Node.js**: 22
- **React**: 18.2
- **FastAPI**: latest
- **Nginx**: alpine

### –ü–æ—Ä—Ç—ã

| –°–µ—Ä–≤–∏—Å | –í–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|--------------|-----------------|----------|
| Frontend | 3000 | 80 | React app + Nginx |
| Backend | 8090 | 8000 | FastAPI + Uvicorn |
| HTTPS | 443 | - | Reverse proxy (Synology) |
| HTTP | 80 | - | Redirect to HTTPS |

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# NAS
NAS_DOMAIN=dso.deone37.synology.me
NAS_IP=192.168.0.233
TZ=Europe/Moscow

# –ü–æ—Ä—Ç—ã
BACKEND_PORT=8090
FRONTEND_PORT=3000

# API
API_URL=https://dso.deone37.synology.me
LOG_LEVEL=info

# –†–µ—Å—É—Ä—Å—ã
BACKEND_MEMORY_LIMIT=512M
FRONTEND_MEMORY_LIMIT=256M
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
sbom-tools/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îú‚îÄ‚îÄ docker-publish.yml          # GitHub Actions CI/CD
‚îÇ       ‚îî‚îÄ‚îÄ README.md                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è workflow
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.py                     # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt                # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile                      # Backend –æ–±—Ä–∞–∑
‚îÇ   ‚îî‚îÄ‚îÄ .dockerignore
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SBOMMigrate.js         # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ VEXConverter.js         # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç VEX –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.js                      # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js
‚îÇ   ‚îú‚îÄ‚îÄ package.json                    # Node –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ nginx.conf                      # Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile                      # Frontend –æ–±—Ä–∞–∑
‚îÇ   ‚îî‚îÄ‚îÄ .dockerignore
‚îú‚îÄ‚îÄ nas-deployment/
‚îÇ   ‚îú‚îÄ‚îÄ devsecops-backend-1.0.0.tar    # –≠–∫—Å–ø–æ—Ä—Ç backend
‚îÇ   ‚îú‚îÄ‚îÄ devsecops-frontend-1.0.0.tar   # –≠–∫—Å–ø–æ—Ä—Ç frontend
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.nas-simple.yml  # –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π compose
‚îÇ   ‚îú‚îÄ‚îÄ update-from-dockerhub.sh       # –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ QUICK_FIX.sh                   # –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ HOTFIX.md                      # Troubleshooting
‚îÇ   ‚îî‚îÄ‚îÄ README.md                      # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ docker-compose.yml                  # –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
‚îú‚îÄ‚îÄ docker-compose.nas.yml              # –î–ª—è NAS (–ª–æ–∫–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã)
‚îú‚îÄ‚îÄ docker-compose.dockerhub.yml        # –î–ª—è NAS (Docker Hub)
‚îú‚îÄ‚îÄ push-to-dockerhub.bat               # –°–∫—Ä–∏–ø—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .env.nas.example                    # –ü—Ä–∏–º–µ—Ä .env –¥–ª—è NAS
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ .gitattributes
‚îú‚îÄ‚îÄ README.md                           # –ì–ª–∞–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ GITHUB_SETUP.md                     # GitHub –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ SETUP_CICD.md                       # CI/CD –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
‚îú‚îÄ‚îÄ DEPLOY_TO_NAS.md                    # NAS –¥–µ–ø–ª–æ–π
‚îî‚îÄ‚îÄ SESSION_ARTIFACT.md                 # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

### v1.0.0 (19-20 –æ–∫—Ç—è–±—Ä—è 2025)

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ VEX Converter (SBOM ‚Üí VEX)
- ‚úÖ SBOM Migrate (–ø–µ—Ä–µ–Ω–æ—Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤)
- ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Synology NAS
- ‚úÖ GitHub Actions CI/CD
- ‚úÖ Docker Hub –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è 63 —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π (CRAB)
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è 462 —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π (ClickHouse)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ 98-100% –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Production –¥–µ–ø–ª–æ–π –Ω–∞ dso.deone37.synology.me

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### GitHub
- **Username**: SergeyBakunin
- **Email**: sergey.bakunin@example.com (—É–∫–∞–∑–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π)

### Docker Hub
- **Username**: deone37
- **Repositories**:
  - deone37/devsecops-backend
  - deone37/devsecops-frontend

### Synology NAS
- **Model**: DS723+
- **Domain**: dso.deone37.synology.me
- **IP**: 192.168.0.233
- **User**: admin (–∏–ª–∏ deone37)

### –ü—É—Ç–∏ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
- **–ü—Ä–æ–µ–∫—Ç**: `C:\Users\Sergey Bakunin\sbom-tools`
- **–¢–µ—Å—Ç–æ–≤—ã–µ SBOM**: `C:\Users\Sergey Bakunin\OneDrive\–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª\CodeScoring files\SBOM_to_VEX\`

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è

### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π Git/Registry:

**–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏:**
1. URL Git —Å–µ—Ä–≤–µ—Ä–∞ (Gitea/GitLab)
2. URL Container Registry
3. –¢–∏–ø CI/CD (Gitea Actions, GitLab CI, Jenkins)
4. –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

**–ß—Ç–æ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å:**
- `.github/workflows/` ‚Üí `.gitea/workflows/` –∏–ª–∏ `.gitlab-ci.yml`
- Registry URL: `docker.io/deone37` ‚Üí `registry.yourdomain.com/deone37`
- Git remote URL
- Credentials –¥–ª—è CI/CD

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

1. **–õ–æ–∫–∞–ª—å–Ω—ã–π Docker Registry –Ω–∞ NAS**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å registry:2 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å TLS
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å CI/CD

2. **Gitea/GitLab –Ω–∞ NAS**
   - –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å Git —Å–µ—Ä–≤–µ—Ä
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Gitea Actions / GitLab Runner
   - Webhook –¥–ª—è –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
   - Prometheus + Grafana
   - Alertmanager
   - Node Exporter –¥–ª—è NAS –º–µ—Ç—Ä–∏–∫

4. **Backup & Recovery**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
   - Snapshot volumes
   - Disaster recovery –ø–ª–∞–Ω

---

## –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –Ω–æ–≤–æ–≥–æ —Å–µ–∞–Ω—Å–∞

–ü—Ä–∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º:

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–∞ NAS
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å https://dso.deone37.synology.me/
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–∑–¥–∞–Ω
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–∑—ã –Ω–∞ Docker Hub
- [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å backup –ø–µ—Ä–µ–¥ –∫—Ä—É–ø–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞**: 20 –æ–∫—Ç—è–±—Ä—è 2025, 01:15
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞**: 1.0.0
**–°—Ç–∞—Ç—É—Å**: Production Ready ‚úÖ

---

*–≠—Ç–æ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–µ–∫—Ç–µ DevSecOps Tools –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤ –Ω–æ–≤–æ–º —Å–µ–∞–Ω—Å–µ.*
